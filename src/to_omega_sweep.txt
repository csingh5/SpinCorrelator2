///////////////////////////////////////////////////////////////////////////////
//                                                                           //
//                          *** main.cpp ***                                 //
//                                                                           //
///////////////////////////////////////////////////////////////////////////////


#include <iostream>
#include "Eigmesh.hpp"
#include "Mesh.hpp"
#include "W90.hpp"
#include "StaticMatrix.hpp"
#include "BareSusceptibility.hpp"
#include "utils.hpp"
#include <iomanip>

int main(int argc, char *argv[])
{

	std::string dir = argv[1];
	std::ofstream file(dir + "trace.dat");

	for (double i = 0; i < 20; i += 0.5) {
		
		file << std::scientific;
		file << static_cast<double>(i) << "\t";
		file << toEigenMatrix(dir + "omega" + std::to_string(i)).real().trace();
		file << "\t";
		file << toEigenMatrix(dir + "omega" + std::to_string(i)).imag().trace();
	    file << "\n";

	}	


	return 0;
}
